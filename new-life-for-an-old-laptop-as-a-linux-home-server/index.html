<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>New life for an old laptop as a Linux home server - Blogs</title><meta name="description" content="You might have something in mind that would benefit from having an 'always-on, always-available' computer. For myself, it started with&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="./../new-life-for-an-old-laptop-as-a-linux-home-server/"><link rel="stylesheet" href="./../assets/css/style.css?v=878ad4b7a0332b0863af65a7738868e1"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"./../new-life-for-an-old-laptop-as-a-linux-home-server/"},"headline":"New life for an old laptop as a Linux home server","datePublished":"2023-09-05T10:12","dateModified":"2023-09-05T12:09","image":{"@type":"ImageObject","url":"./../media/posts/1/Screenshot-from-2023-09-05-11-59-50-2.png","height":844,"width":1499},"description":"You might have something in mind that would benefit from having an 'always-on, always-available' computer. For myself, it started with&hellip;","author":{"@type":"Person","name":"AKhil Raghav","url":"./../authors/akhil-raghav/"},"publisher":{"@type":"Organization","name":"AKhil Raghav"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="lines"><div class="container lines lines--right"><header class="header"><a href="./../" class="logo">Blogs</a></header><main class="main"><article class="post"><header class="post__inner post__header"><h1 class="post__title">New life for an old laptop as a Linux home server</h1><div class="post__meta"><div class="post__meta__left"><a href="./../authors/akhil-raghav/" class="invert post__author" rel="author" title="AKhil Raghav">AKhil Raghav</a></div><div class="post__meta__right"><time datetime="2023-09-05T10:12" class="post__date">September 5, 2023</time><div class="post__updated">Updated on <time datetime="2023-09-05T10:12" class="post__date">September 5, 2023</time></div></div></div></header><figure class="post__featured-image"><div class="post__featured-image__inner is-img-loading"><img src="./../media/posts/1/Screenshot-from-2023-09-05-11-59-50-2.png" srcset="./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-59-50-2-xs.png 384w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-59-50-2-sm.png 600w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-59-50-2-md.png 768w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-59-50-2-lg.png 1200w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-59-50-2-xl.png 1600w" sizes="(min-width: 37.5em) 1600px, 80vw" loading="eager" height="844" width="1499" alt="Home_Server"></div><figcaption>Home Server Akhil Raghav</figcaption></figure><div class="post__inner"><div class="post__entry"><p>You might have something in mind that would benefit from having an "always-on, always-available" computer.</p><p>For myself, it started with a desire for network-attached storage for backups &amp; Media Streaming.</p><p>Out of curiosity I decided to forego using commercial cloud-computing services and put together something myself. Install a stable Linux distribution such as Ubuntu (Desktop, then purged GUI) and gain access to tens of thousands of software packages with the ability to host all kinds of services.</p><h2 id="why-use-an-old-laptop-as-a-home-server">Why use an old laptop as a home server?</h2><p>Something like a Raspberry Pi is certainly one option, but they are Expensive in my country &amp; one big advantage of the laptop option is I already have one not being used! You might also have a spare laptop, or know where to get one for little to no cost.</p><figure class="post__image"><img loading="lazy" src="./../media/posts/1/Screenshot-from-2023-09-05-10-04-03-2.png" alt="Dashboard" width="1600" height="651" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="./../media/posts/1/responsive/Screenshot-from-2023-09-05-10-04-03-2-xs.png 384w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-10-04-03-2-sm.png 600w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-10-04-03-2-md.png 768w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-10-04-03-2-lg.png 1200w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-10-04-03-2-xl.png 1600w"></figure><p>Old laptops can still deliver plenty of power for running a few services on a personal home server, and can include all sorts of things already built-in that would be extras on the Pi: things like a case, display, keyboard, multiple ports, and storage. Laptops are designed to be frugal with power and - if the battery still holds a charge - come equipped with their own built-in UPS!</p><p><strong>So this is the plan:</strong> Pick a laptop. For my own project, I am restoring an old Windows Laptop to active duty with the latest release of Ubuntu Desktop for use as a home server.</p><h4><br><em>why using desktop insted of ubuntu-server?</em></h4><div class="flex flex-grow flex-col gap-3 max-w-full"><div class="min-h-[20px] flex flex-col items-start gap-3 overflow-x-auto whitespace-pre-wrap break-words"><div class="markdown prose w-full break-words dark:prose-invert light"><p>Why opt for a desktop OS over Ubuntu Server, you might wonder? Well, after experimenting with various data-center-oriented operating systems, I encountered consistent networking issues that left me less than impressed.</p><p>That's when I made the switch to Ubuntu Desktop, a choice I haven't regretted. By coupling it with my Ubuntu Pro License, I unlocked the power of LivePatch and Network Manager. The beauty of Ubuntu Desktop lies in its user-friendly Network Manager, sparing me the hassle of manually editing the /etc/network/interfaces file every time I needed to establish a new connection – a common ordeal with data-center-centric OSs.</p><p>Intrigued by the idea of taking matters into my own hands,I on a journey with Ubuntu, initially with the desktop version, later purging the GUI to streamline performance. This choice opened the door to a vast repository of software packages, providing the flexibility to host a wide array of services.</p><p> </p><p>This is how I do it ...</p><h5>1. Install Ubuntu Desktop </h5><p><span data-dobid="hdw">Traditional </span>way of installing Ubuntu Desktop</p><figure class="r48jcc pT0Scc iPVvYb"><img loading="lazy" src="https://ubuntucommunity.s3.dualstack.us-east-2.amazonaws.com/original/2X/e/ebb1b61c154b72ea93172ad896014d467e26fec0.png" alt="Refreshing the Ubuntu Desktop Installer - Desktop - Ubuntu Community Hub" aria-hidden="false" data-is-external-image="true"></figure><h5 id="2-configure">2. Configure</h5><p><strong>2.1 Enable SSH</strong> </p><p>The procedure to install ssh command on Ubuntu is as follows:</p><ol><li>Open the terminal application.</li><li>Install the ssh package on Ubuntu by typing: <strong><tt>sudo apt install openssh-client</tt></strong></li><li>Once the installation done, use it by typing from the CLIENT: <strong><tt>ssh <a href="mailto:user@server-ip-here">user@server-ip-here</a></tt></strong></li></ol><p><strong>2.1.1 Auto-Start SSH on Boot</strong></p><p><code>sudo systemctl start ssh //for Starting SSH service on boot.</code></p><p><code><br>sudo systemctl restart ssh  // For Restarting SSH service if user make changes in config otherwise rarely used.</code></p><p><strong>2.1.2 Enable ufw  and open ssh port</strong></p><p><strong><br></strong>By default, firewall will block ssh access. Therefore, you must enable ufw and open ssh port<strong><br></strong></p><p>Execute: <code><tt><strong>sudo ufw allow ssh</strong></tt></code></p><h5><code>3.</code> Terminal <code>multiplexer: tmux</code></h5><p>Useful on desktops and especially on servers, <strong>tmux</strong> launches a session in the console that can be divided into multiple <em>windows</em> and <em>panes</em> (multiplexing).</p><p>Where it really makes a difference from simply opening multiple terminals or logins, though, is the ability to detach/re-attach sessions. Login to the server, open several windows, run ongoing processes, detach session, logout, login, re-attach session, and restore your working environment!</p><p>Install ...</p><pre class="language-bash" data-lang="bash"><code class="language-bash" data-lang="bash">$ sudo apt install tmux
</code></pre><p><em>Even you can go with Screen, but i prefer tmux. </em></p><h5>4. Converting Ubuntu-Desktop to Ubuntu-Server</h5><h6 class="wp-block-heading">Step 1: Installing Server Packages</h6><p>To initiate this process, you'll want to begin by installing the essential server packages on your system. To get started, open a terminal and execute the following command:</p><pre class="wp-block-code"><code>sudo apt install ubuntu-server</code></pre><h6 class="wp-block-heading">Step 2: Setting the Default Target</h6><p>Once your system has completed the reboot process, the next step is to configure the default target to operate in multi-user mode. This mode optimizes your system by conserving RAM and CPU resources, as it abstains from initiating the graphical user session. To set the default target accordingly, execute the following command:</p><pre class="wp-block-code"><code>sudo systemctl set-default multi-user.target</code></pre><div class="flex flex-grow flex-col gap-3 max-w-full"><div class="min-h-[20px] flex flex-col items-start gap-3 overflow-x-auto whitespace-pre-wrap break-words"><div class="markdown prose w-full break-words dark:prose-invert light"><p>This command will ensure that your system starts up in multi-user mode by default, which is particularly beneficial for server environments where graphical user interfaces are unnecessary and can be resource-intensive.</p></div></div></div><div class="flex justify-between lg:block"><div class="text-gray-400 flex self-end lg:self-center justify-center mt-2 gap-2 md:gap-3 lg:gap-1 lg:absolute lg:top-0 lg:translate-x-full lg:right-0 lg:mt-0 lg:pl-2 visible"> </div><div><h6 id="2-6-disable-suspend-on-close">Step 3: Disable suspend-on-close</h6><p>In normal operation, closing the laptop lid would suspend the system. Not what we want for our laptop home server! To enable the server to continue operating on lid closure, set <code>/etc/systemd/logind.conf</code> to <code>ignore</code> the action.</p><p>Change ...</p><pre><code>#HandleLidSwitch=suspend
</code></pre><p>... to ...</p><pre class="language-bash" data-lang="bash"><code class="language-bash" data-lang="bash">HandleLidSwitch=ignore
</code></pre><p>Restart <code>systemd-logind.service</code> ...</p><pre class="language-bash" data-lang="bash"><code class="language-bash" data-lang="bash">$ sudo systemctl restart systemd-logind.service
</code></pre><p> </p><h6>Step 4: Install Web-based system adminstation tool</h6><figure><figure class="post__image post__image--center"><img loading="lazy" src="./../media/posts/1/Screenshot-from-2023-09-05-11-53-46.png" alt="webmin" width="1499" height="844" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-53-46-xs.png 384w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-53-46-sm.png 600w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-53-46-md.png 768w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-53-46-lg.png 1200w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-53-46-xl.png 1600w"></figure><figcaption>Webmin Dashboard</figcaption></figure><figure><figure class="post__image post__image--center"><img loading="lazy" src="./../media/posts/1/Screenshot-from-2023-09-05-11-52-46.png" alt="cockpit dashboard" width="1499" height="844" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-52-46-xs.png 384w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-52-46-sm.png 600w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-52-46-md.png 768w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-52-46-lg.png 1200w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-11-52-46-xl.png 1600w"></figure><figcaption>Cockpit dashboard</figcaption></figure><p> </p><p>Well, when it comes to web-based system administration tools, you've got quite a selection to choose from. But if we're talking about the cream of the crop, it often boils down to Webmin and Cockpit – they're both top-notch options. <br><br><strong>Pros of Cockpit:<br></strong></p><p><strong>Cockpit:</strong></p><p>It prioritizes simplicity. With Cockpit, you can effortlessly monitor system performance, manage users, configure networks, and even oversee containers and virtual machines, all within an elegant web interface.</p><h6><strong>Step 5: </strong>Removing Unnecessary Packages (Optional)</h6><p>When it comes to streamlining the desktop edition by shedding those unnecessary packages, there's a nifty command that does the trick. Just fire up your terminal and run this command:<br><br></p><pre class="wp-block-code"><code>sudo apt purge ubuntu-desktop -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt autoclean</code></pre><h6 class="wp-block-heading">Step 6: Final Reboot<br><br></h6><p>To wrap up the conversion process, give your system one last reboot. Simply execute the following command:</p><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"> </div></div><div class="bg-black rounded-md mb-4"><div class="p-4 overflow-y-auto"><code class="!whitespace-pre hljs language-bash">sudo reboot</code></div></div><p>This final step ensures that all changes take effect, providing you with a freshly configured system.<br><br></p><figure class="post__image"><img loading="lazy" src="./../media/posts/1/Screenshot-from-2023-09-05-12-03-23.png" alt="" width="1499" height="844" sizes="(min-width: 37.5em) 1600px, 80vw" srcset="./../media/posts/1/responsive/Screenshot-from-2023-09-05-12-03-23-xs.png 384w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-12-03-23-sm.png 600w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-12-03-23-md.png 768w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-12-03-23-lg.png 1200w, ./../media/posts/1/responsive/Screenshot-from-2023-09-05-12-03-23-xl.png 1600w"><figcaption>SSH into Home Server</figcaption></figure><p> </p></div></div></div></div></div></div><footer class="post__footer"><div class="post__tag-share"><div class="post__tag"><h3 class="post__tag__title">Posted in</h3><ul class="post__tag__list"><li><a href="./../tags/homeserver/">#homeserver</a></li><li><a href="./../tags/linux/">#linux</a></li><li><a href="./../tags/ubuntu/">#ubuntu</a></li></ul></div></div></footer></div></article></main><footer class="footer"><div class="footer__left"><div class="footer__copy">AKhil Raghav0</div></div><div class="footer__right"><div class="footer__social"><a href="https://twitter.com/rghv064" aria-label="Twitter" class="twitter"><svg><use xlink:href="./../assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/in/akhil-raghav-42ba26231/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="./../assets/svg/svg-map.svg#linkedin"/></svg></a></div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="./../assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="./../assets/js/scripts.min.js?v=6450cfc483efd7e58ed8ad5b64050d3e"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
               images[i].classList.add('is-loaded');
               images[i].parentNode.classList.remove('is-img-loading');
            } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
                  this.parentNode.classList.remove('is-img-loading');
               }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script></body></html>